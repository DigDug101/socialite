<?xml version="1.0"?>
<!DOCTYPE notificationDTD SYSTEM "chrome://global/locale/notification.dtd">
<bindings xmlns="http://www.mozilla.org/xbl" xmlns:xbl="http://www.mozilla.org/xbl"
	xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
	
	<binding id="socialitebar"
		extends="chrome://global/content/bindings/notification.xml#notification">
		<content>
			<xul:hbox class="notification-inner outset" flex="1"
				xbl:inherits="type">
				<xul:hbox anonid="details" flex="1" align="center">
					<xul:hbox anonid="boxSite" align="center">
						<xul:image anonid="imageSite"/>
						<xul:label anonid="labelSite" class="text-link"/>
					</xul:hbox>
					<xul:separator width="0px" height="18px" orient="vertical" class="socialite-separator"/>
					<xul:deck anonid="deckContent" flex="1" align="center">
						<children/>
					</xul:deck>
				</xul:hbox>
				<xul:toolbarbutton ondblclick="event.stopPropagation();"
					class="messageCloseButton tabbable" xbl:inherits="hidden=hideclose"
					tooltiptext="&closeNotification.tooltip;" oncommand="document.getBindingParent(this).close();"/>
			</xul:hbox>
		</content>
		
		<implementation>
			<field name="url"/>
			<field name="content">[]</field>
			<method name="addSiteContent">
				<parameter name="siteContent"/>
				<body>
          <![CDATA[
          	this.content.push(siteContent);
						this.appendChild(siteContent);
          ]]>
				</body>
			</method>
			<method name="update">
				<body>
          <![CDATA[
          	this.content.forEach(function(siteContent, index, array) {
					    siteContent.update();
					  });
          ]]>
				</body>
			</method>
		</implementation>
	</binding>
	
	<binding id="socialitebarcontent">
		<content>
			<xul:hbox anonid="container" flex="1" align="center">
				<xul:description anonid="descriptionTitle" flex="1"/>
				<xul:spacer flex="1"/>
				<children/>
			</xul:hbox>
		</content>
		
		<implementation>
			<field name="linkInfo"/>
			<method name="update">
				<body>
          <![CDATA[
						var title = document.getAnonymousElementByAttribute(this, "anonid", "descriptionTitle");
						title.text = this.linkInfo.localState.title;
          ]]>
				</body>
			</method>
		</implementation>
	</binding>
	
</bindings>